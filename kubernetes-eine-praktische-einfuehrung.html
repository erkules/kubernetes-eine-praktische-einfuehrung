<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<h1 id="kubernetes">Kubernetes</h1>
<p>Eine praktische Einführung</p>
<h1 id="ich">Ich</h1>
<h1 id="wieso-weshalb-warum">Wieso Weshalb Warum?</h1>
<ul>
<li>Orchestrierung?</li>
<li>Orchestrierung++</li>
<li>Kubernetes ist das neue RZ</li>
</ul>
<h1 id="k8s-aufbau">K8s Aufbau</h1>
<p>Architekturbild</p>
<p>Was bekommen Container</p>
<ul>
<li>Flaches nodeüberspannendes internes Netzwerk</li>
<li>DNS</li>
<li>...</li>
</ul>
<h1 id="art-of-deployment">Art of Deployment</h1>
<ul>
<li>Deklarativ (CI/CD)</li>
<li>Lifecycle</li>
<li>Anzahl der Rechner?</li>
</ul>
<h1 id="namespaces">Namespaces</h1>
<ul>
<li>Logische Partitionierung</li>
<li>Ermöglicht</li>
<li>Netzerksegmentierung</li>
<li>Multitenantsupport</li>
<li>mit Ressourcenlimitierung</li>
<li>...</li>
</ul>
<pre><code>kubectl create ns jax
kubens jax &lt;-- Ersetzt -n jax bei den folgenden Aufrufen</code></pre>
<h1 id="pods">Pods</h1>
<ul>
<li>Kleinste Einheit</li>
<li>VMs für Container</li>
</ul>
<pre><code>kubectl apply -f obj/pod.yml
kubectl exec -ti www sh </code></pre>
<p>Problem:</p>
<ul>
<li>Keine Replicas</li>
<li>Kein HA</li>
<li>Kein Skalieren</li>
</ul>
<h1 id="deployments">Deployments</h1>
<ul>
<li>HA</li>
<li>Updatestrategien (heute abend)</li>
</ul>
<pre><code>kubectl apply -f obj/deployment.yml</code></pre>
<ul>
<li>Skalieren</li>
<li>Service Discovery VIP</li>
<li>Service Discovery DNS</li>
</ul>
<h1 id="services">Services</h1>
<ul>
<li>Service Discovery</li>
<li>Labels</li>
<li>Interne VIP</li>
<li>DNS</li>
</ul>
<pre><code>kubectl apply -f obj/deployment-svc.yml</code></pre>
<h1 id="ingress">Ingress</h1>
<p>Große weite Welt:</p>
<pre><code>obj/deployment-ing.yml</code></pre>
<ul>
<li>Ein Rolling Update zeigen</li>
<li>Deklarativ</li>
</ul>
<h1 id="ha-storage">HA + Storage</h1>
<p>Kleine Spielerei mit Storage</p>
<pre><code>kubectl apply -f obj/mysql-pvc.yml           &lt;-- pvc
kubectl apply -f obj/mysql-deploy.yml        &lt;-- Datbenbank
kubectl apply -f obj/mysql-svc.yaml          &lt;-- Service
kubectl exec ..
kubectl apply -f obj/mysql-client-deploy.yml  &lt;-- Client
kubectl apply -f obj/mysql-client-svc.yml     &lt;-- Service
kubectl apply -f obj/mysql-client-ing.yml     &lt;-- Weite Welt</code></pre>
<p>Failovern</p>
<pre><code> kubectl taint node &lt;node&gt;  sched=nono:NoSchedule
 kubectl taint node &lt;node&gt;  sched:NoSchedule-</code></pre>
<h1 id="kubernetes-1">Kubernetes++</h1>
<ul>
<li>Logs (Loki)</li>
<li>Metriken (Prometheus)</li>
</ul>
<p>Eigene Metriken?</p>
<pre><code>kubectl apply -f obj/busybox-exporter.yml</code></pre>
<h1 id="noch-so-viel">Noch so viel:</h1>
<ul>
<li>Autoscaling</li>
<li>Security</li>
<li>Placements</li>
<li>Netzwerkregeln</li>
<li>Priorities</li>
<li>StatefulSets/DaemonSets</li>
<li>Configs/Secrets</li>
<li>(Cron)Jobs</li>
<li>....</li>
</ul>
<h1 id="service-mesh">SERVICE-MESH</h1>
<p>https://landscape.cncf.io/category=service-proxy,api-gateway,service-mesh&amp;format=card-mode&amp;grouping=category</p>
<p>und ja Serverless/Faas</p>
</body>
</html>
